[supervisord]
nodaemon=true
user=root
logfile=/app/logs/supervisord.log
pidfile=/tmp/supervisord.pid

[program:webapp]
command=/opt/venv/bin/python3 /app/web-app/app.py
directory=/app/web-app
user=1001
autostart=true
autorestart=true
stdout_logfile=/app/logs/webapp.log
stderr_logfile=/app/logs/webapp-error.log

[program:vnc]
command=/usr/bin/vncserver :1 -fg -geometry %(ENV_VNC_RESOLUTION)s -depth %(ENV_VNC_COL_DEPTH)s
user=1001
autostart=true
autorestart=true
stdout_logfile=/app/logs/vnc.log
stderr_logfile=/app/logs/vnc-error.log

[program:novnc]
command=/usr/share/novnc/utils/launch.sh --vnc localhost:5901 --listen 6901
autostart=true
autorestart=true
stdout_logfile=/app/logs/novnc.log
stderr_logfile=/app/logs/novnc-error.log
